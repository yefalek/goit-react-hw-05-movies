"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[564],{6931:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(1413),c=n(885),r=n(2791),i=n(1702),o=n(6960),u=n(4697),s=n(9031),A=n(184);function l(e){var t=e.onSubmit,n=(0,r.useState)(""),a=(0,c.Z)(n,2),i=a[0],u=a[1];return(0,A.jsx)("section",{children:(0,A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i.trim()?(t(i),u("")):o.Am.error("Enter your search")},children:[(0,A.jsx)("button",{type:"submit",children:(0,A.jsx)("span",{children:"Search..."})}),(0,A.jsx)("input",{value:i,onChange:function(e){u(e.target.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0})]})})}var f=n(9720),p=n(3302),g=n(2831),h=n(7546),m=n(2194);function d(){var e,t=(0,p.Z)(),n=(0,r.useState)(h.Z.IDLE),d=(0,c.Z)(n,2),v=d[0],Z=d[1],x=(0,r.useState)(null),j=(0,c.Z)(x,2),b=j[0],M=j[1],V=(0,r.useState)(null),P=(0,c.Z)(V,2),y=P[0],L=P[1],S=(0,i.TH)(),N=(0,i.k6)(),w=(0,i.$B)().url,T=(0,r.useState)(null),I=(0,c.Z)(T,2),Q=I[0],q=I[1],D=(0,r.useState)(""),z=(0,c.Z)(D,2),E=z[0],G=z[1],k=null!==(e=new URLSearchParams(S.search).get("page"))&&void 0!==e?e:1;(0,r.useEffect)((function(){if(""!==S.search){var e=new URLSearchParams(S.search).get("query");G(e,k)}}),[S.search,k]),(0,r.useEffect)((function(){E&&(Z(h.Z.PENDING),u.V(E,k).then((function(e){var t=e.results,n=e.total_pages;0===t.length&&o.Am.error("Not found"),L(t),q(n),Z(h.Z.RESOLVED)})).catch((function(e){M(e),Z(h.Z.REJECTED)})),console.log(k))}),[E,k]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(l,{onSubmit:function(e){E!==e&&(G(e),L(null),N.push((0,a.Z)((0,a.Z)({},S),{},{search:"query=".concat(e,"&page=1")})))}}),v===h.Z.PENDING&&(0,A.jsx)(s.Z,{}),v===h.Z.REJECTED&&(0,A.jsx)(f.Z,{message:b.message}),y&&v===h.Z.RESOLVED&&(0,A.jsx)("ul",{children:y.map((function(e){return(0,A.jsx)(g.Z,{images:e.poster_path,id:e.id,title:e.title,from:"".concat(w,"/").concat(S.search)},e.id)}))}),Q>1&&(0,A.jsx)(m.Z,{className:t.root,count:Q,size:"large",page:Number(k),shape:"rounded",showFirstButton:!0,showLastButton:!0,onChange:function(e,t){N.push((0,a.Z)((0,a.Z)({},S),{},{search:"query=".concat(E,"&page=").concat(t)}))}})]})}},7546:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},4697:function(e,t,n){n.d(t,{Tg:function(){return A},V:function(){return l},jC:function(){return f},Gd:function(){return p},oG:function(){return g},np:function(){return h}});var a=n(5861),c=n(7757),r=n.n(c),i="https://api.themoviedb.org/3",o="8620b0972e59ad7d1bfd77d28c680ffe";function u(){return s.apply(this,arguments)}function s(){return s=(0,a.Z)(r().mark((function e(){var t,n,a,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,n);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Sory, not found your search"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function A(e){return u("".concat(i,"/trending/movie/day?api_key=").concat(o,"&page=").concat(e))}function l(e,t){return u("".concat(i,"/search/movie?api_key=").concat(o,"&language=ru-RU&page=").concat(t,"&query=").concat(e,"&include_adult=true"))}function f(e){return u("".concat(i,"/movie/").concat(e,"?api_key=").concat(o,"&language=en-US"))}function p(e){return u("".concat(i,"/movie/").concat(e,"/videos?api_key=").concat(o,"&language=ru-RU"))}function g(e){return u("".concat(i,"/movie/").concat(e,"/credits?api_key=").concat(o,"&language=ru-RU"))}function h(e){return u("".concat(i,"/movie/").concat(e,"/reviews?api_key=").concat(o,"&language=ru-RU&page=1"))}},3302:function(e,t,n){var a=(0,n(8596).Z)({root:{display:"flex",justifyContent:"center",padding:"20px 0","& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{backgroundColor:"#6c5b7b"},"& .MuiPaginationItem-root":{color:"#000000"},"& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{opacity:"0.7"},"& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible":{opacity:"1"},"& .MuiPagination-ul":{justifyContent:"center"}}});t.Z=a},9720:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(6960),c=n(2007),r=n.n(c);function i(e){var t=e.message;return a.Am.error("".concat(t))}i.propTypes={message:r().string}},2831:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(1702),c=n(9741),r=n(333),i=n.n(r),o=n(4118),u=n(184);function s(e){var t,n=e.id,r=e.title,s=e.images,A=e.rating,l=(0,a.TH)();return(0,u.jsx)("li",{className:"movies_item",children:(0,u.jsxs)(c.OL,{to:{pathname:"/movies/".concat((t="".concat(r).concat(n),i()(t,{lower:!0}))),state:{from:l}},children:[(0,u.jsx)("div",{className:"movies__images_container"}),(0,u.jsx)("img",{className:"movies_images",src:s?"".concat("https://image.tmdb.org/t/p/w500/").concat(s):o,alt:r,width:"300"}),(0,u.jsx)("p",{className:"movies__title",children:r}),(0,u.jsx)("p",{className:"movies__item-rating",children:A})]})},n)}},4118:function(e){e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=MoviesView.7fe9af96.chunk.js.map