{"version":3,"file":"static/js/HomeView.fcf19c0d.chunk.js","mappings":"+TAAMA,EAAW,+BACXC,EAAU,mC,SAEDC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,W,aAAf,O,oBAAA,2GAAsCC,EAAtC,+BAA4C,GAAIC,EAAhD,+BAAyD,GAAzD,SAC2BC,MAAMF,EAAKC,GADtC,YACUE,EADV,QAEoBC,GAFpB,iCAE+BD,EAASE,OAFxC,gDAEiDC,QAAQC,OAAO,IAAIC,MAAM,gCAF1E,2GAKO,SAAUC,EAAcC,GAC3B,OAAOX,EAAuB,GAAD,OAAIF,EAAJ,uCAA2CC,EAA3C,iBAA2DY,IAIrF,SAASC,EAAkBC,EAAOF,GACrC,OAAOX,EAAuB,GAAD,OAAIF,EAAJ,iCAAqCC,EAArC,gCAAoEY,EAApE,kBAAkFE,EAAlF,wBAG1B,SAASC,EAAkBC,GAC9B,OAAOf,EAAuB,GAAD,OAAIF,EAAJ,kBAAsBiB,EAAtB,oBAAyChB,EAAzC,oBAI1B,SAASiB,EAAuBD,GACnC,OAAOf,EAAuB,GAAD,OAAIF,EAAJ,kBAAsBiB,EAAtB,2BAAgDhB,EAAhD,oBAI1B,SAASkB,EAAkBF,GAC9B,OAAOf,EAAuB,GAAD,OAAIF,EAAJ,kBAAsBiB,EAAtB,4BAAiDhB,EAAjD,oBAI1B,SAASmB,EAAkBH,GAC9B,OAAOf,EAAuB,GAAD,OAAIF,EAAJ,kBAAsBiB,EAAtB,4BAAiDhB,EAAjD,6B,yBC/B3BoB,GAAYC,E,QAAAA,GAAW,CAC3BC,KAAM,CACJC,QAAS,OACTC,eAAgB,SAChBC,QAAS,SAET,8NACE,CACEC,gBAAiB,WAErB,4BAA6B,CAC3BC,MAAO,WAET,8EACE,CACEC,QAAS,OAEb,wGACE,CACEA,QAAS,KAEb,sBAAuB,CACrBJ,eAAgB,aAKtB,O,gIC7Be,SAASK,EAAT,GAAgC,IAATC,EAAQ,EAARA,KAAS,OAAQ,wBAAKA,I,kCCS7C,SAASC,IAAY,IAAD,EAEzBC,GAAUZ,EAAAA,EAAAA,KACVa,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,MACjB,GAAiCC,EAAAA,EAAAA,UAAS,MAA1C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAkCF,EAAAA,EAAAA,UAAS,MAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAEM7B,EAAI,UAAG,IAAI8B,gBAAgBP,EAASQ,QAAQC,IAAI,eAA5C,QAAuD,GAEjEC,EAAAA,EAAAA,YAAU,WACNC,EAAAA,GAAuBlC,GAAMmC,MAAK,YAA+B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC1CV,EAAYS,GACZP,EAAaQ,QAElB,CAACrC,IAKJ,OACI,iCACI,SAACiB,EAAD,CAAaC,KAAK,kBAEjBQ,IACG,eAAIY,UAAU,SAAd,SACKZ,EAAUa,KAAI,SAAAC,GAAQ,OACnB,SAACC,EAAA,EAAD,CAEIC,OAAQF,EAASG,YACjBC,GAAIJ,EAASI,GACbC,MAAOL,EAASK,MAChBC,OAAQN,EAASO,cAJZP,EAASI,SAS7BhB,EAAY,IACT,SAACoB,EAAA,EAAD,CACIV,UAAWlB,EAAQV,KACnBuC,MAAOrB,EACPsB,KAAK,QACLlD,KAAMmD,OAAOnD,GACboD,MAAM,UACNC,iBAAe,EACfC,gBAAc,EACdC,SA9BK,SAACC,EAAGxD,GACrBqB,EAAQoC,MAAR,kBAAkBlC,GAAlB,IAA4BQ,OAAO,QAAD,OAAU/B,c,kHCrBrC,SAASyC,EAAT,GAAkD,IAI5CiB,EAJcd,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,MAAOH,EAAkB,EAAlBA,OAAQI,EAAU,EAAVA,OAC5CvB,GAAWC,EAAAA,EAAAA,MAMjB,OACI,eAAac,UAAU,cAAvB,UACI,UAAC,KAAD,CAASqB,GAAI,CACTC,SAAS,WAAD,QANHF,EAMyB,GAAD,OAAIb,GAAJ,OAAYD,GALjDiB,GAAAA,CAAQH,EAAQ,CAAEI,OAAO,MAMjBC,MAAO,CAAEC,KAAMzC,IAFnB,WAII,gBAAKe,UAAU,8BACf,gBAAKA,UAAU,gBACX2B,IAAKvB,EAAM,UAbX,oCAaW,OAAgBA,GAAWwB,EACtCC,IAAKtB,EACLuB,MAAM,SAEV,cAAG9B,UAAU,gBAAb,SAA8BO,KAC9B,cAAGP,UAAU,sBAAb,SAAoCQ,QAZnCF,K","sources":["services/movie-api.js","services/stylePagination.js","components/PageHeading.js","views/HomeView.js","views/ViewItem.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '8620b0972e59ad7d1bfd77d28c680ffe'; //API (v3 auth)\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n    const response = await fetch(url, config);\n    return response.ok ? await response.json() : Promise.reject(new Error('Sory, not found your search'));\n}\n//popular list of films today, main page\nexport function  fetchTrending(page) {\n    return fetchWithErrorHandling(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`);\n}\n\n//search some films\nexport function featchSearchMovie(query, page) {\n    return fetchWithErrorHandling(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=ru-RU&page=${page}&query=${query}&include_adult=true`,);\n}\n\nexport function fetchDetailsMovie(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`,);\n}\n\n//personal film information\nexport function fetchDetailsMovieVideo(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${movieId}/videos?api_key=${API_KEY}&language=ru-RU`,);\n}\n\n//this film's actors\nexport function fetcthActorsMovie(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=ru-RU`,);\n}\n\n//this film's review\nexport function fetchReviewsMovie(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=ru-RU&page=1`,);\n}","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: '20px 0',\n\n    '& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible':\n      {\n        backgroundColor: '#6c5b7b',\n      },\n    '& .MuiPaginationItem-root': {\n      color: '#000000',\n    },\n    '& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible':\n      {\n        opacity: '0.7',\n      },\n    '& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible':\n      {\n        opacity: '1',\n      },\n    '& .MuiPagination-ul': {\n      justifyContent: 'center',\n    },\n  },\n});\n\nexport default useStyles;","export default function PageHeading({ text }) {return (<h1>{text}</h1>);}","import { useLocation, useHistory } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport PageHeading from \"../components/PageHeading\";\nimport * as movieApi from \"../services/movie-api\";\nimport useStyles from \"../services/stylePagination\";\nimport ViewItem from \"./ViewItem\"\nimport './HomeView.scss';\n\nexport default function HomeView() {\n    \n    const classes = useStyles();\n    const history = useHistory();\n    const location = useLocation();\n    const [trendings, setTrending] = useState(null);\n    const [totalPage, setTotalPage] = useState(null);\n\n    const page = new URLSearchParams(location.search).get('page') ?? 1;\n\n    useEffect(() => {\n        movieApi.fetchTrending(page).then(({ results, total_pages }) => {\n            setTrending(results);\n            setTotalPage(total_pages);\n        });\n    }, [page]);\n    const handleChange = (e, page) => {\n        history.push({ ...location, search: `page=${page}` });\n    };\n\n    return (\n        <>\n            <PageHeading text=\"Popular today\" />\n            \n            {trendings && (\n                <ul className=\"movies\">\n                    {trendings.map(trending => (\n                        <ViewItem\n                            key={trending.id}\n                            images={trending.poster_path}\n                            id={trending.id}\n                            title={trending.title}\n                            rating={trending.vote_avarage}\n                        />\n                    ))}\n                </ul>\n            )}\n            {totalPage > 1 && (\n                <Pagination\n                    className={classes.root}\n                    count={totalPage}\n                    size=\"large\"\n                    page={Number(page)}\n                    shape=\"rounded\"\n                    showFirstButton\n                    showLastButton\n                    onChange={handleChange}\n                />\n            )}\n        </>\n    );\n}","import { useLocation, NavLink } from \"react-router-dom\";\nimport PropTypes from 'prop-types';\nimport slugify from 'slugify';\nimport noImages from '../images/images.png';\n\nexport default function ViewItem({ id, title, images, rating }) {\n    const location = useLocation();\n    const IMG_URL = 'https://image.tmdb.org/t/p/w500/';\n\n    const makeSlug = string =>\n        slugify(string, { lower: true, });\n    \n    return (\n        <li key={id} className=\"movies_item\">\n            <NavLink to={{\n                pathname: `/movies/${makeSlug(`${title}${id}`)}`,\n                state: { from: location },\n            }}>\n                <div className=\"movies__images_container\"></div>\n                <img className=\"movies_images\"\n                    src={images ? `${IMG_URL}${images}` : noImages}\n                    alt={title}\n                    width=\"300\"\n                />\n                <p className=\"movies__title\">{title}</p>\n                <p className=\"movies__item-rating\">{rating}</p>\n            </NavLink>\n        </li>\n    );\n}\n\nViewItem.propTypes = {\n    id: PropTypes.number,\n    title: PropTypes.string,\n};"],"names":["BASE_URL","API_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","page","featchSearchMovie","query","fetchDetailsMovie","movieId","fetchDetailsMovieVideo","fetcthActorsMovie","fetchReviewsMovie","useStyles","makeStyles","root","display","justifyContent","padding","backgroundColor","color","opacity","PageHeading","text","HomeView","classes","history","useHistory","location","useLocation","useState","trendings","setTrending","totalPage","setTotalPage","URLSearchParams","search","get","useEffect","movieApi","then","results","total_pages","className","map","trending","ViewItem","images","poster_path","id","title","rating","vote_avarage","Pagination","count","size","Number","shape","showFirstButton","showLastButton","onChange","e","push","string","to","pathname","slugify","lower","state","from","src","noImages","alt","width"],"sourceRoot":""}